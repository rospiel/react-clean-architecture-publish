(()=>{"use strict";var e={338:(e,t,n)=>{var a=n(206);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},206:e=>{e.exports=ReactDOM}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=React;var t=n.n(e),a=n(338);const r=ReactRouterDOM,s="_60oO_s3FZlc_K37bRPb0",i="RgCUqWuMhmqeNv1W8DY2",o="k79k43iWijBE4CHsiVEV",c="HEABdUBqrJyA_R91rJZC",l=(0,e.memo)((()=>t().createElement("footer",{className:"fB7OOZIypf5_K38Jpz8S"})));function u(){return t().createElement("img",{src:"data:image/png;base64,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"})}const d={spinner:"k6Ewaii27EKV17UFLbKZ",negative:"VlwnA364x6NZFQhOMVLP",spinner1:"dEseGD5QkthCUGBPqh7R",spinner2:"fWRcfuWDRRkTQmQ6nL1H",spinner3:"j22bn15EnNM55kM7ShW4"};var A=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function m(e){var{isNegative:n}=e,a=A(e,["isNegative"]);const r=n?d.negative:"",s=[d.spinner,a.className,r].join(" ");return t().createElement("div",Object.assign({"data-testid":"spinner"},a,{className:s}),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null))}const h={container:"s9iHRQOirEIkTqWM0C4K",container__spinner:"DkI2tSPOMc0T4RiOWY0I",container__message:"yW5iwpfPT3PgbPMaJ5Rp"},p=(0,e.createContext)(null);function g(){const{state:n}=(0,e.useContext)(p);return t().createElement("div",{"data-testid":"error-container",className:h.container},n.isLoading&&t().createElement(m,{className:h.container__spinner}),n.message&&t().createElement("span",{"data-testid":"error-message",className:h.container__message},n.message))}const v={container:"GWJOAaLN3pNTnJSYFwa4",container__input:"Ngpw199yAxzLVtFSkX2J",container__status:"dGzCUrNMiGNUAVFZWIim"};function f(n){const{state:a,setState:r}=(0,e.useContext)(p),s=a[`${n.name}Error`];return t().createElement("div",{className:v.container},t().createElement("input",Object.assign({"data-testid":n.name,readOnly:!0,onFocus:function(e){e.target.readOnly=!1},className:v.container__input},n,{onChange:function(e){const t=e.target.name,n=e.target.value;r((e=>Object.assign(Object.assign({},e),{[t]:n})))}})),t().createElement("span",{"data-testid":`${n.name}-status`,className:v.container__status,title:s||"Tudo certo"},s?"游댮":"游릭"))}const E=(0,e.memo)((()=>t().createElement("header",{className:"LtJYUvSx_cIJ_NU_IpuH"},t().createElement(u,null),t().createElement("h1",{className:"uKwfJWS5onUqE1k2n1Ak"},"4Dev - Enquetes para Programadores")))),C={surveyContainer__header:"J0xLvEMEEmmJ5eWUXBZx",surveyContainer__headerContent:"mCe9LWgmtiNowwNUHE3k",surveyContainer__headerLogout:"Sad29Oao0W1FBQvLg2bk"},y=(0,e.createContext)(null);function w(){const t=(0,r.useNavigate)(),{setCurrentAccount:n}=(0,e.useContext)(y);return function(){n(void 0),t("/login",{replace:!0})}}function b(){var n;const a=w(),{getCurrentAccount:r}=(0,e.useContext)(y);if(null===(n=r())||void 0===n?void 0:n.accessToken)return t().createElement("header",{className:C.surveyContainer__header},t().createElement("div",{className:C.surveyContainer__headerContent},t().createElement(u,null),t().createElement("div",{className:C.surveyContainer__headerLogout},t().createElement("span",{"data-testid":"username"},r().name),t().createElement("a",{"data-testid":"logout",onClick:function(e){e.preventDefault(),a()},href:"#"},"Sair"))));a()}const _={contentContainer__iconContainer:"ko9BUOy9j8mOQAi7vy7M",contentContainer__iconContainer__green:"xNCHEBQCkZIybbfAfjO3",contentContainer__iconContainer__red:"lJ1KTq4qzWt1gzCKk0VA"};var R;function N(e){return t().createElement("div",{className:function(){const t=e.iconType===R.thumbUp?_.contentContainer__iconContainer__green:_.contentContainer__iconContainer__red;return[_.contentContainer__iconContainer,t,e.className].join(" ")}()},t().createElement("img",{"data-testid":"icon",src:e.iconType}))}!function(e){e.thumbDown="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAEgAAAAA9nQVdAAAA70lEQVQ4Ea2RPQoCQQyFZ/w5g72lYOEVPIiV2IkIHmCvIZ5D77BgZWtrYWe1ICiuL8tEwjIZZmYNZCf7knyTzRrjrK7rAfwAr+AheyNZwiei98gNrBkISxYjz5KbZb0V4gXxlN8jzo+1tk91BOT6nhPmOFNg1Nb0UiCNxY0Uu8QW044BuMIZHs3DJzcra3/yOgem3UoT3pEcaQUh3TchAX9/KNTsy/mAtLebrzhXI+AqE/oQl55ErIfYxp5WothW71QyAJ0VWKG06DJAQ/jTA0yH0TUAzf4Gc8BFC5g3GcHI3IQvBy0asesDsB08CfYFB/44kX6+Hj8AAAAASUVORK5CYII=",e.thumbUp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAEgAAAAA9nQVdAAAA0klEQVQ4EWNgIAH8//+/AYhLSNCCWynUMCD1/zcQG+BWSYQMkmEgA0Egjght2JUANYO8iQ4MsasmIAo0BZthP4DirAS0YkrjMAzk0tOYqgmIADUVgnTiADPxakfStAWmECj2DkmcWOYjoEJPRpBqmEGMQABiI4vB5IikH1PbQAYmIm0mVtlLahu4nJpe/gf0hho1XbgVGKd3qWngRFBA4/LyX6AcKZZdBbpOB2QgLk1nQJIkgElwtaBEDAXIOUULKHYSiP/CJHHQX4Hic4CYBWYgADx8PyqFiuhJAAAAAElFTkSuQmCC"}(R||(R={}));const O={calendarContainer:"J2Ce1ndtl7h9KRxdytb2",calendarContainer__day:"mrWKQio0UN2Ie9aUJADa",calendarContainer__month:"xg9RqTKNDt9Hg5i11jrb",calendarContainer__year:"EuxpbmEptb6OJniPEkSN"};function x({date:e,className:n}){return t().createElement("time",{className:[O.calendarContainer,n].join(" ")},t().createElement("span",{"data-testid":"day",className:O.calendarContainer__day},e.getDate().toString().padStart(2,"0")),t().createElement("span",{"data-testid":"month",className:O.calendarContainer__month},e.toLocaleString("pt-BR",{month:"short"}).replace(".","")),t().createElement("span",{"data-testid":"year",className:O.calendarContainer__year},e.getFullYear()))}const k={errorContainer:"VMS6uDfL3VMNJjZbdNok",errorContainer__errorSpan:"gQX7HMdvA1aUzLsd8eqp"};function j({message:e,reload:n}){return t().createElement("div",{className:k.errorContainer},t().createElement("span",{className:k.errorContainer__errorSpan,"data-testid":"error"},e),t().createElement("button",{"data-testid":"reload",onClick:n},"Recarregar"))}function B(n){const{setCurrentAccount:a}=(0,e.useContext)(y),u=(0,r.useNavigate)(),[d,A]=(0,e.useState)({email:"",password:"",emailError:"",passwordError:"",message:"",isLoading:!1}),m=(0,e.useRef)(null);function h(){return!!d.emailError||!!d.passwordError}return(0,e.useEffect)((()=>{const e={email:d.email,password:d.password};A((t=>Object.assign(Object.assign({},t),{emailError:n.validation.validate("email",e),passwordError:n.validation.validate("password",e)})))}),[d.email,d.password]),t().createElement("div",{"data-testid":"login-page",className:s},t().createElement(E,null),t().createElement(p.Provider,{value:{state:d,setState:A}},t().createElement("form",{"data-testid":"form",className:i},t().createElement("h2",null,"Login"),t().createElement(f,{type:"email",name:"email",placeholder:"Digite seu e-mail"}),t().createElement(f,{type:"password",name:"password",placeholder:"Digite sua senha"}),t().createElement("button",{ref:m,onClick:function(e){return t=this,r=void 0,i=function*(){if(e.preventDefault(),m.current.disabled=!0,!d.isLoading&&!h()){A((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{const e=yield n.authentication.auth({email:d.email,password:d.password});a(e),u("/",{replace:!0})}catch(e){A((t=>Object.assign(Object.assign({},t),{isLoading:!1,message:e.message})))}m.current.disabled=!1}},new((s=void 0)||(s=Promise))((function(e,n){function a(e){try{c(i.next(e))}catch(e){n(e)}}function o(e){try{c(i.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(a,o)}c((i=i.apply(t,r||[])).next())}));var t,r,s,i},type:"submit","data-testid":"submit",disabled:h(),className:o},"Entrar"),t().createElement(r.Link,{"data-testid":"signup",to:"/signup",className:c},"Criar conta"),t().createElement(g,null))),t().createElement(l,null))}const L="CjC5sVTC8DKn6iQ49bKo",P="CNgnCJsXEuxlU06x_HzJ",W="Q1uZUDUOYK0rWzena2rh",D="PcGCWie3W7MWAuhkrBco";function U(n){const{setCurrentAccount:a}=(0,e.useContext)(y),s=(0,r.useNavigate)(),[i,o]=(0,e.useState)({name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",passwordConfirmation:"",passwordConfirmationError:"",isLoading:!1,message:""}),c=(0,e.useRef)(null);function u(){return!!(i.emailError||i.passwordError||i.nameError||i.passwordConfirmationError)}return(0,e.useEffect)((()=>{const e={name:i.name,email:i.email,password:i.password,passwordConfirmation:i.passwordConfirmation};o((t=>Object.assign(Object.assign({},t),{nameError:n.validation.validate("name",e),emailError:n.validation.validate("email",e),passwordError:n.validation.validate("password",e),passwordConfirmationError:n.validation.validate("passwordConfirmation",e)})))}),[i.name,i.email,i.password,i.passwordConfirmation]),t().createElement("div",{"data-testid":"signup-page",className:L},t().createElement(E,null),t().createElement(p.Provider,{value:{state:i,setState:o}},t().createElement("form",{"data-testid":"form",className:P},t().createElement("h2",null,"Criar Conta"),t().createElement(f,{type:"text",name:"name",placeholder:"Digite seu nome"}),t().createElement(f,{type:"email",name:"email",placeholder:"Digite seu e-mail"}),t().createElement(f,{type:"password",name:"password",placeholder:"Digite sua senha"}),t().createElement(f,{type:"password",name:"passwordConfirmation",placeholder:"Repita sua senha"}),t().createElement("button",{ref:c,onClick:function(e){return t=this,r=void 0,d=function*(){if(e.preventDefault(),c.current.disabled=!0,!i.isLoading&&!u()){o((e=>Object.assign(Object.assign({},e),{isLoading:!0})));try{const e=yield n.addAccount.add({name:i.name,email:i.email,password:i.password,passwordConfirmation:i.passwordConfirmation});a(e),s("/",{replace:!0})}catch(e){o((t=>Object.assign(Object.assign({},t),{isLoading:!1,message:e.message})))}c.current.disabled=!0}},new((l=void 0)||(l=Promise))((function(e,n){function a(e){try{i(d.next(e))}catch(e){n(e)}}function s(e){try{i(d.throw(e))}catch(e){n(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(a,s)}i((d=d.apply(t,r||[])).next())}));var t,r,l,d},type:"submit",disabled:u(),"data-testid":"submit",className:W},"Cadastrar"),t().createElement(r.Link,{replace:!0,"data-testid":"signup",to:"/login",className:D},"Voltar para login"),t().createElement(g,null))),t().createElement(l,null))}const Q={surveyResultContainer:"rsL77PCpLJhrtQEhew7A",surveyResultContainer__content:"zWLZemicZPMliXb8xgGq",surveyResultContainer__hgroup:"vQV3jnQPJZ1JuRCZOiJs",surveyResultContainer__hgroup__calendar:"bdAlhGSmExYhZzx1tbC2",surveyResultContainer__hgroup__h2:"Bm410aubkFfUuBoPWlIX",surveyResultContainer__content_list:"pQt4_OFLoaIm6aLLXP7i",surveyResultContainer__content_li:"t2_jpuI53ssVfTL25LTi",surveyResultContainer__content_li_active:"vjdhJraURK2l8vJqKF2T",surveyResultContainer__content_li_img:"_lcOkFGUWZM4MsOH1qdQ",surveyResultContainer__content_li_answer:"K340UtJUUI0fzv0xfJXA",surveyResultContainer__content_li_percent:"d0RTH7U5qY_Cw1yYgp0O",surveyResultContainer__content_button:"COClStQjkB8q6hwsmi4V"},I={loadingContainer:"yy9jdt2mPGE2n37eMlsQ",loadingContainer__div:"xxPvIlnL9I_DJ7i_WbbO",loadingContainer__span:"goYmkiABOTTGqMP6VDAi"};function S(){return t().createElement("div",{"data-testid":"loading",className:I.loadingContainer},t().createElement("div",{className:I.loadingContainer__div},t().createElement("span",{className:I.loadingContainer__span},"Aguarde..."),t().createElement(m,{isNegative:!0})))}class K extends Error{constructor(){super("Credenciais inv치lidas"),this.name="InvalidCredentialsError"}}class q extends Error{constructor(){super("Instabilidade no sistema. Tente novamente em breve."),this.name="UnexpectedError"}}class G extends Error{constructor(){super("Esse e-mail j치 tem uma conta atrelada"),this.name="EmailInUseError"}}class V extends Error{constructor(){super("Acesso negado!"),this.name="AccessDeniedError"}}function H({callback:t}){const n=w(),{setCurrentAccount:a}=(0,e.useContext)(y);return function(e){e instanceof V?n():t(e)}}function J(e=!1){return{isLoading:!1,error:"",surveyResult:null,reload:e}}function F({loadSurveyResult:n}){const[a,s]=(0,e.useState)(J),i=H({callback:function(e){s((t=>Object.assign(Object.assign({},t),{surveyResult:null,reload:!1,error:e.message})))}}),o=(0,r.useNavigate)(),{id:c}=(0,r.useParams)();function u(e){return t().createElement("div",{className:Q.surveyResultContainer},t().createElement(b,null),t().createElement("div",{"data-testid":"survey-result",className:Q.surveyResultContainer__content},e),t().createElement(l,null))}return(0,e.useEffect)((()=>{n.load(c).then((e=>{s((t=>Object.assign(Object.assign({},t),{surveyResult:e})))})).catch(i)}),[a.reload]),a.error?u(t().createElement(j,{message:a.error,reload:function(){s(J(!0))}})):a.surveyResult?u(t().createElement(t().Fragment,null,t().createElement("hgroup",{className:Q.surveyResultContainer__hgroup},t().createElement(x,{date:a.surveyResult.date,className:Q.surveyResultContainer__hgroup__calendar}),t().createElement("h2",{"data-testid":"question",className:Q.surveyResultContainer__hgroup__h2},a.surveyResult.question)),t().createElement("ul",{"data-testid":"answers",className:Q.surveyResultContainer__content_list},a.surveyResult.answers.map((e=>{return t().createElement("li",{"data-testid":"answer-container",key:e.answer,className:[Q.surveyResultContainer__content_li,(n=e.isCurrentAccountAnswer,n?Q.surveyResultContainer__content_li_active:"")].join(" ")},e.image&&t().createElement("img",{"data-testid":"image",className:Q.surveyResultContainer__content_li_img,src:e.image,alt:e.answer}),t().createElement("span",{"data-testid":"answer",className:Q.surveyResultContainer__content_li_answer},e.answer),t().createElement("span",{"data-testid":"percent",className:Q.surveyResultContainer__content_li_percent},e.percent,"%"));var n}))),t().createElement("button",{"data-testid":"back-button",className:Q.surveyResultContainer__content_button,onClick:()=>o(-1)},"Voltar"),a.isLoading&&t().createElement(S,null))):u(t().createElement(t().Fragment,null))}const T="WpdjrUq6b2AlJO9ErU0g",z="YRCfs8YomW8ccdQtdNmL",Y="IWVnp4JWGsruu0ffej7q",M="UnfJfx8Tj3ABBf95Rl6u",X="FSk3xh3mqyZ9n5KkU0nH",Z="qOcxpL_pD2bQI_RoDGBW";function $(n){const a=H({callback:function(e){i((t=>Object.assign(Object.assign({},t),{reload:!1,error:e.message})))}}),[s,i]=(0,e.useState)({surveys:[],error:"",reload:!1});function o(e){return e.didAnswer?R.thumbUp:R.thumbDown}function c(e){return t().createElement("div",{"data-testid":"survey-list-page",className:T},t().createElement(b,null),t().createElement("main",{className:z},t().createElement("h2",null,"Enquetes"),e),t().createElement(l,null))}return(0,e.useEffect)((()=>{n.loadSurveyList.all().then((e=>i((t=>Object.assign(Object.assign({},t),{surveys:e}))))).catch(a)}),[s.reload]),s.error?c(t().createElement(j,{message:s.error,reload:function(){i({surveys:[],error:"",reload:!s.reload})}})):c(t().createElement("ul",{"data-testid":"survey-list"},s.surveys.map((e=>t().createElement("li",{key:e.id},t().createElement("div",{className:Y},t().createElement(N,{iconType:o(e),className:M}),t().createElement(x,{date:e.date,className:X}),t().createElement("p",{"data-testid":"question"},e.question)),t().createElement("div",{className:Z},t().createElement(r.Link,{"data-testid":"link",to:`/surveys/${e.id}`},"Ver Resultado")))))))}var ee;!function(e){e[e.ok=200]="ok",e[e.noContent=204]="noContent",e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.serverError=500]="serverError"}(ee||(ee={}));class te{constructor(e,t){this.url=e,this.httpPostClient=t}auth(e){return t=this,n=void 0,r=function*(){const t={url:this.url,body:e},n=yield this.httpPostClient.post(t);switch(n.statusCode){case ee.ok:return n.body;case ee.unauthorized:throw new K;default:throw new q}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((r=r.apply(t,n||[])).next())}));var t,n,a,r}}function ne(e){return`https://every-cougars-wink.loca.lt/api${e}`}const ae=axios;var re=n.n(ae),se=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function i(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};class ie{post(e){return se(this,void 0,void 0,(function*(){let t;try{t=yield re().post(e.url,e.body)}catch(e){t=e.response}return this.adapt(t)}))}get(e){return se(this,void 0,void 0,(function*(){let t;try{t=yield re().get(e.url,{headers:e.headers})}catch(e){t=e.response}return this.adapt(t)}))}adapt(e){return{statusCode:e.status,body:e.data}}}function oe(){return new ie}class ce extends Error{constructor(){super("Campo obrigat칩rio"),this.name="RequiredFieldError"}}class le extends Error{constructor(){super("Valor inv치lido")}}class ue{constructor(e){this.field=e,this.EMAIL_REGEX=/[a-z0-9!#$%&' * +/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/}validate(e){return this.isEmpty(e[this.field])||this.EMAIL_REGEX.test(e[this.field])?null:new le}isEmpty(e){return!e}}class de{constructor(e,t){this.field=e,this.minLength=t}validate(e){var t;return this.minLength>(null===(t=e[this.field])||void 0===t?void 0:t.length)?new le:null}}class Ae{constructor(e){this.field=e}validate(e){return e[this.field]?null:new ce}}class me{constructor(e){this.validators=e}static build(e){return new me(e)}validate(e,t){const n=this.validators.filter((t=>t.field===e));for(const e of n){const n=e.validate(t);if(n)return n.message}}}class he{constructor(e,t){this.field=e,this.fieldToCompare=t}validate(e){return e[this.field]!==e[this.fieldToCompare]?new le:null}}class pe{constructor(e,t){this.fieldName=e,this.validations=t}static field(e){return new pe(e,[])}required(){return this.validations.push(new Ae(this.fieldName)),this}min(e){return this.validations.push(new de(this.fieldName,e)),this}email(){return this.validations.push(new ue(this.fieldName)),this}sameAs(e){return this.validations.push(new he(this.fieldName,e)),this}build(){return this.validations}}class ge{constructor(e,t){this.url=e,this.httpPostClient=t}add(e){return t=this,n=void 0,r=function*(){const t=yield this.httpPostClient.post({url:this.url,body:e});switch(t.statusCode){case ee.ok:return t.body;case ee.forbidden:throw new G;default:throw new q}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((r=r.apply(t,n||[])).next())}));var t,n,a,r}}function ve(){const e="password";return me.build([...pe.field("name").required().min(5).build(),...pe.field("email").required().email().build(),...pe.field(e).required().min(5).build(),...pe.field("passwordConfirmation").required().sameAs(e).build()])}class fe{constructor(e,t){this.url=e,this.httpGetClient=t}all(){return e=this,t=void 0,a=function*(){const e=yield this.httpGetClient.get({url:this.url});switch(e.statusCode){case ee.ok:return e.body.map((e=>Object.assign(e,{date:new Date(e.date)})));case ee.noContent:return[];case ee.forbidden:throw new V;default:throw new q}},new((n=void 0)||(n=Promise))((function(r,s){function i(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}));var e,t,n,a}convertStringToDate(e){return new Date(e)}}class Ee{constructor(e,t){this.getStorage=e,this.httpGetClient=t}get(e){return t=this,n=void 0,r=function*(){const t=this.getStorage.get("account");return(null==t?void 0:t.accessToken)&&Object.assign(e,{headers:Object.assign(this.mergeOrEmptyObject(e),{"x-access-token":t.accessToken})}),yield this.httpGetClient.get(e)},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((r=r.apply(t,n||[])).next())}));var t,n,a,r}mergeOrEmptyObject(e){return e.headers||{}}}class Ce{set(e,t){t?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)}get(e){return JSON.parse(localStorage.getItem(e))}}function ye(){return new Ce}function we(){return new Ee(ye(),oe())}class be{constructor(e,t){this.url=e,this.httpGetClient=t}load(e){return t=this,n=void 0,r=function*(){const t=yield this.httpGetClient.get({url:this.url.replace("{id}",e)});switch(t.statusCode){case ee.ok:return Object.assign({},t.body,{date:new Date(t.body.date)});case ee.noContent:return{};case ee.forbidden:throw new V;default:throw new q}},new((a=void 0)||(a=Promise))((function(e,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(i,o)}c((r=r.apply(t,n||[])).next())}));var t,n,a,r}}const _e=n=>function(){var t;const{getCurrentAccount:n}=(0,e.useContext)(y);return!(null===(t=n())||void 0===t?void 0:t.accessToken)}()?t().createElement(r.Navigate,{to:"/login"}):t().createElement(r.Outlet,null);function Re(e){ye().set("account",e)}function Ne(){return ye().get("account")}a.createRoot(document.getElementById("main")).render(t().createElement((function(){return t().createElement(y.Provider,{value:{setCurrentAccount:Re,getCurrentAccount:Ne}},t().createElement(r.BrowserRouter,{basename:"/react-clean-architecture-publish"},t().createElement(r.Routes,null,t().createElement(r.Route,{path:"/login",element:t().createElement(B,{authentication:new te(ne("/login"),oe()),validation:me.build([...pe.field("email").required().email().build(),...pe.field("password").required().min(5).build()])})}),t().createElement(r.Route,{path:"/signup",element:t().createElement(U,{addAccount:new ge(ne("/signup"),oe()),validation:ve()})}),t().createElement(r.Route,{path:"/",element:t().createElement(_e,null)},t().createElement(r.Route,{path:"/",element:t().createElement($,{loadSurveyList:new fe(ne("/surveys"),we())})})),t().createElement(r.Route,{path:"/surveys/:id",element:t().createElement(_e,null)},t().createElement(r.Route,{path:"/surveys/:id",element:t().createElement(F,{loadSurveyResult:new be(ne("/surveys/{id}/results"),we())})})))))}),null))})()})();