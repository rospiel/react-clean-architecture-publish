!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="react-clean-architecture-publish",n(n.s=23)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactRouterDOM},function(e,t,n){e.exports={surveyResultContainer:"hItVxU85b5IL4q422AqRr",surveyResultContainer__content:"_19aCF2EIxP9ndHhhnaP7j1",surveyResultContainer__hgroup:"_1DvqOEzp7EGD-zFp9aYFtz",surveyResultContainer__hgroup__calendar:"_1mb-08DDDQH1VbQXGpmIpr",surveyResultContainer__hgroup__h2:"_1KCqQEqXdKY7qGvaq5hO8l",surveyResultContainer__content_list:"_2eqDIZnUG37xaIb1TpNb2e",surveyResultContainer__content_li:"_3hn2WafVk8plgckTYQfCGQ",surveyResultContainer__content_li_active:"_2Q0GCXg5tiKeUJOeLGCCUn",surveyResultContainer__content_li_img:"UfMOYBlMCagtBafrh2M-k",surveyResultContainer__content_li_answer:"_2kQ2M27TnlkubzD9sIMPKr",surveyResultContainer__content_li_percent:"zw3twiEOe2gPLPXaqdFM7",surveyResultContainer__content_button:"_3VHwIJRdVRfX3U1tRXisDg"}},function(e,t,n){"use strict";var a=n(18);n.o(a,"HttpStatusCode")&&n.d(t,"HttpStatusCode",(function(){return a.HttpStatusCode}));var r=n(5);n.d(t,"HttpStatusCode",(function(){return r.a}));n(19)},function(e,t,n){e.exports={surveyContainer:"_2by1v-phfTPRD-HV11IgTh",surveyContainer__contentContainer:"_2009qd2iVE8JjqozL7LE8F",contentContainer__content:"_32iuypW7qQqLJhGwFO12OD",contentContainer__iconContainer:"_146uWkiNV42EvDA_EuYOoX",contentContainer__calendar:"_2VjUCCRNFMYcWeqYcqtSZ4",contentContainer__result:"_15gjIP7S9KGP0V_vc-OQec"}},function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.ok=200]="ok",e[e.noContent=204]="noContent",e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.serverError=500]="serverError"}(a||(a={}))},function(e,t,n){e.exports={login:"G26siYeh4JS0yewBEQNZ2",form:"_3cadJuzJdGhba2aAGQ9tBU",submit:"zA1fb6gZFnUwWEeOv09-s",link:"SHkwd4YF6t4wLM2-7ty-i"}},function(e,t,n){e.exports={calendarContainer:"_2lbgOAzDgsS9xJ6pSmByXO",calendarContainer__day:"_1WrX5_TtfkZ894mJwO-nqh",calendarContainer__month:"_3-9Ow-yGqgui4gzyKF4I30",calendarContainer__year:"_3_r75yZvv-cQU_tmMQwLL6"}},function(e,t,n){e.exports={signup:"_1objGWOjtgnu6TYPE_AoYS",form:"_35jpUzMznV1D4I-HOZbrH3",submit:"_2WqJkXe4r_TnZRd1P7T7Bh",link:"_2oAY_jK4osAH17UU-dgEJ2"}},function(e,t,n){e.exports={container:"BQcXzMa_5qsG01g8ArgbN",container__spinner:"Fup5aOXXUG-c8ClcKL0c2",container__message:"_1F_kG3R8j6dN2UNWXrlGyh"}},function(e,t,n){e.exports={container:"_13PnbpzeNmfFz8wdD360YU",container__input:"_1gI7po5nkghQh0O7fNMF7t",container__status:"_3MGUMiCHWUAvV2Ld7JBhYC"}},function(e,t,n){e.exports={surveyContainer__header:"_1UumvtbzBQJmbDfPAS9Eco",surveyContainer__headerContent:"NcQVCnw6YAI-wm3vFyyoM",surveyContainer__headerLogout:"_20USLIEb5XqfUTT7h-SVdR"}},function(e,t,n){e.exports={contentContainer__iconContainer:"_2XiWCnPmWiLFggedNAJ8u2",contentContainer__iconContainer__green:"_2C5al6XGJ3FsF3S3srwJbY",contentContainer__iconContainer__red:"_1Z57DOHvfmla-aagZXLfse"}},function(e,t,n){e.exports={loadingContainer:"_3xq82riamngsxk88FiusfD",loadingContainer__div:"ZZq5W6IYAplDMA4dR0Epa",loadingContainer__span:"_1HmtgJNd8tJiSbbJeGzUe-"}},function(e,t,n){e.exports={spinner:"_3ABpsfmD6wxzMRZwA3h8cO",negative:"_7S8VWxWo-EkNC45_24QB",spinner1:"_1muI60i3pM-Y24lbrGpdwx",spinner2:"_1QvKwu83ibZKBJZvEoXyVs",spinner3:"_21jtw79edoYNpa9z-OZyCq"}},function(e,t,n){e.exports={header:"_10ebiUVF7VT3qtDV0EinAt",header__h1:"_1Alc7k2RjrkI2rEBBdl8AF"}},function(e,t,n){e.exports={errorContainer:"_2oYJDopSjj9SLcb3NtAqVN",errorContainer__errorSpan:"PfkB_lVcsBF5doaMalEId"}},function(e,t){e.exports=axios},function(e,t){},function(e,t){},function(e,t){e.exports=ReactDOM},function(e,t,n){e.exports={footer:"SiozRjzB2bTqCa9GIiKOq"}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),o=n.n(s),i=n(1),c=n(6),u=n.n(c),l=n(21),d=n.n(l);var m=Object(a.memo)(()=>r.a.createElement("footer",{className:d.a.footer}));function A(){return r.a.createElement("img",{src:"data:image/png;base64,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"})}var f=n(14),p=n.n(f),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function g(e){var{isNegative:t}=e,n=h(e,["isNegative"]);const a=t?p.a.negative:"",s=[p.a.spinner,n.className,a].join(" ");return r.a.createElement("div",Object.assign({"data-testid":"spinner"},n,{className:s}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}var v=n(9),E=n.n(v),C=Object(a.createContext)(null);function b(){const{state:e}=Object(a.useContext)(C);return r.a.createElement("div",{"data-testid":"error-container",className:E.a.container},e.isLoading&&r.a.createElement(g,{className:E.a.container__spinner}),e.message&&r.a.createElement("span",{"data-testid":"error-message",className:E.a.container__message},e.message))}var _=n(10),y=n.n(_);function w(e){const{state:t,setState:n}=Object(a.useContext)(C),s=t[e.name+"Error"];return r.a.createElement("div",{className:y.a.container},r.a.createElement("input",Object.assign({"data-testid":e.name,readOnly:!0,onFocus:function(e){e.target.readOnly=!1},className:y.a.container__input},e,{onChange:function(e){const t=e.target.name,a=e.target.value;n(e=>Object.assign(Object.assign({},e),{[t]:a}))}})),r.a.createElement("span",{"data-testid":e.name+"-status",className:y.a.container__status,title:s||"Tudo certo"},s?"游댮":"游릭"))}var O=n(15),j=n.n(O);var N=Object(a.memo)(()=>r.a.createElement("header",{className:j.a.header},r.a.createElement(A,null),r.a.createElement("h1",{className:j.a.header__h1},"4Dev - Enquetes para Programadores"))),R=n(11),x=n.n(R),S=Object(a.createContext)(null);function B(){const e=Object(i.useHistory)(),{setCurrentAccount:t}=Object(a.useContext)(S);return function(){t(void 0),e.replace("/login")}}function k(){const e=B(),{getCurrentAccount:t}=Object(a.useContext)(S);return r.a.createElement("header",{className:x.a.surveyContainer__header},r.a.createElement("div",{className:x.a.surveyContainer__headerContent},r.a.createElement(A,null),r.a.createElement("div",{className:x.a.surveyContainer__headerLogout},r.a.createElement("span",{"data-testid":"username"},t().name),r.a.createElement("a",{"data-testid":"logout",onClick:function(t){t.preventDefault(),e()},href:"#"},"Sair"))))}var D,P=n(12),L=n.n(P);function I(e){return r.a.createElement("div",{className:function(){const t=e.iconType===D.thumbUp?L.a.contentContainer__iconContainer__green:L.a.contentContainer__iconContainer__red;return[L.a.contentContainer__iconContainer,t,e.className].join(" ")}()},r.a.createElement("img",{"data-testid":"icon",src:e.iconType}))}!function(e){e.thumbDown="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAEgAAAAA9nQVdAAAA70lEQVQ4Ea2RPQoCQQyFZ/w5g72lYOEVPIiV2IkIHmCvIZ5D77BgZWtrYWe1ICiuL8tEwjIZZmYNZCf7knyTzRrjrK7rAfwAr+AheyNZwiei98gNrBkISxYjz5KbZb0V4gXxlN8jzo+1tk91BOT6nhPmOFNg1Nb0UiCNxY0Uu8QW044BuMIZHs3DJzcra3/yOgem3UoT3pEcaQUh3TchAX9/KNTsy/mAtLebrzhXI+AqE/oQl55ErIfYxp5WothW71QyAJ0VWKG06DJAQ/jTA0yH0TUAzf4Gc8BFC5g3GcHI3IQvBy0asesDsB08CfYFB/44kX6+Hj8AAAAASUVORK5CYII=",e.thumbUp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAEgAAAAA9nQVdAAAA0klEQVQ4EWNgIAH8//+/AYhLSNCCWynUMCD1/zcQG+BWSYQMkmEgA0Egjght2JUANYO8iQ4MsasmIAo0BZthP4DirAS0YkrjMAzk0tOYqgmIADUVgnTiADPxakfStAWmECj2DkmcWOYjoEJPRpBqmEGMQABiI4vB5IikH1PbQAYmIm0mVtlLahu4nJpe/gf0hho1XbgVGKd3qWngRFBA4/LyX6AcKZZdBbpOB2QgLk1nQJIkgElwtaBEDAXIOUULKHYSiP/CJHHQX4Hic4CYBWYgADx8PyqFiuhJAAAAAElFTkSuQmCC"}(D||(D={}));var H=e=>function(){var e;const{getCurrentAccount:t}=Object(a.useContext)(S);return!(null===(e=t())||void 0===e?void 0:e.accessToken)}()?r.a.createElement(i.Route,Object.assign({},e,{component:()=>r.a.createElement(i.Redirect,{to:"/login"})})):r.a.createElement(i.Route,Object.assign({},e)),Q=n(7),G=n.n(Q);function q({date:e,className:t}){return r.a.createElement("time",{className:[G.a.calendarContainer,t].join(" ")},r.a.createElement("span",{"data-testid":"day",className:G.a.calendarContainer__day},e.getDate().toString().padStart(2,"0")),r.a.createElement("span",{"data-testid":"month",className:G.a.calendarContainer__month},e.toLocaleString("pt-BR",{month:"short"}).replace(".","")),r.a.createElement("span",{"data-testid":"year",className:G.a.calendarContainer__year},e.getFullYear()))}var U=n(16),V=n.n(U);function F({message:e,reload:t}){return r.a.createElement("div",{className:V.a.errorContainer},r.a.createElement("span",{className:V.a.errorContainer__errorSpan,"data-testid":"error"},e),r.a.createElement("button",{"data-testid":"reload",onClick:t},"Recarregar"))}var W=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};function z(e){const{setCurrentAccount:t}=Object(a.useContext)(S),n=Object(i.useHistory)(),[s,o]=Object(a.useState)({email:"",password:"",emailError:"",passwordError:"",message:"",isLoading:!1});function c(){return!!s.emailError||!!s.passwordError}return Object(a.useEffect)(()=>{const t={email:s.email,password:s.password};o(n=>Object.assign(Object.assign({},n),{emailError:e.validation.validate("email",t),passwordError:e.validation.validate("password",t)}))},[s.email,s.password]),r.a.createElement("div",{className:u.a.login},r.a.createElement(N,null),r.a.createElement(C.Provider,{value:{state:s,setState:o}},r.a.createElement("form",{"data-testid":"form",className:u.a.form,onSubmit:function(a){return W(this,void 0,void 0,(function*(){if(a.preventDefault(),!s.isLoading&&!c()){o(e=>Object.assign(Object.assign({},e),{isLoading:!0}));try{const a=yield e.authentication.auth({email:s.email,password:s.password});t(a),n.replace("/")}catch(e){o(t=>Object.assign(Object.assign({},t),{isLoading:!1,message:e.message}))}}}))}},r.a.createElement("h2",null,"Login"),r.a.createElement(w,{type:"email",name:"email",placeholder:"Digite seu e-mail"}),r.a.createElement(w,{type:"password",name:"password",placeholder:"Digite sua senha"}),r.a.createElement("button",{type:"submit","data-testid":"submit",disabled:c(),className:u.a.submit},"Entrar"),r.a.createElement(i.Link,{"data-testid":"signup",to:"/signup",className:u.a.link},"Criar conta"),r.a.createElement(b,null))),r.a.createElement(m,null))}var K=n(8),Y=n.n(K),X=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};function T(e){const{setCurrentAccount:t}=Object(a.useContext)(S),n=Object(i.useHistory)(),[s,o]=Object(a.useState)({name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",passwordConfirmation:"",passwordConfirmationError:"",isLoading:!1,message:""});function c(){return!!(s.emailError||s.passwordError||s.nameError||s.passwordConfirmationError)}return Object(a.useEffect)(()=>{const t={name:s.name,email:s.email,password:s.password,passwordConfirmation:s.passwordConfirmation};o(n=>Object.assign(Object.assign({},n),{nameError:e.validation.validate("name",t),emailError:e.validation.validate("email",t),passwordError:e.validation.validate("password",t),passwordConfirmationError:e.validation.validate("passwordConfirmation",t)}))},[s.name,s.email,s.password,s.passwordConfirmation]),r.a.createElement("div",{className:Y.a.signup},r.a.createElement(N,null),r.a.createElement(C.Provider,{value:{state:s,setState:o}},r.a.createElement("form",{"data-testid":"form",onSubmit:function(a){return X(this,void 0,void 0,(function*(){if(a.preventDefault(),!s.isLoading&&!c()){o(e=>Object.assign(Object.assign({},e),{isLoading:!0}));try{const a=yield e.addAccount.add({name:s.name,email:s.email,password:s.password,passwordConfirmation:s.passwordConfirmation});t(a),n.replace("/")}catch(e){o(t=>Object.assign(Object.assign({},t),{isLoading:!1,message:e.message}))}}}))},className:Y.a.form},r.a.createElement("h2",null,"Criar Conta"),r.a.createElement(w,{type:"text",name:"name",placeholder:"Digite seu nome"}),r.a.createElement(w,{type:"email",name:"email",placeholder:"Digite seu e-mail"}),r.a.createElement(w,{type:"password",name:"password",placeholder:"Digite sua senha"}),r.a.createElement(w,{type:"password",name:"passwordConfirmation",placeholder:"Repita sua senha"}),r.a.createElement("button",{type:"submit",disabled:c(),"data-testid":"submit",className:Y.a.submit},"Cadastrar"),r.a.createElement(i.Link,{replace:!0,"data-testid":"signup",to:"/login",className:Y.a.link},"Voltar para login"),r.a.createElement(b,null))),r.a.createElement(m,null))}var M=n(2),J=n.n(M),Z=n(13),$=n.n(Z);function ee(){return r.a.createElement("div",{"data-testid":"loading",className:$.a.loadingContainer},r.a.createElement("div",{className:$.a.loadingContainer__div},r.a.createElement("span",{className:$.a.loadingContainer__span},"Aguarde..."),r.a.createElement(g,{isNegative:!0})))}class te extends Error{constructor(){super("Credenciais inv치lidas"),this.name="InvalidCredentialsError"}}class ne extends Error{constructor(){super("Instabilidade no sistema. Tente novamente em breve."),this.name="UnexpectedError"}}class ae extends Error{constructor(){super("Esse e-mail j치 tem uma conta atrelada"),this.name="EmailInUseError"}}class re extends Error{constructor(){super("Acesso negado!"),this.name="AccessDeniedError"}}function se({callback:e}){Object(i.useHistory)();const t=B(),{setCurrentAccount:n}=Object(a.useContext)(S);return function(n){n instanceof re?t():e(n)}}function oe(e=!1){return{isLoading:!1,error:"",surveyResult:null,reload:e}}function ie({loadSurveyResult:e}){const[t,n]=Object(a.useState)(oe),s=se({callback:function(e){n(t=>Object.assign(Object.assign({},t),{surveyResult:null,error:e.message}))}}),{goBack:o}=Object(i.useHistory)();function c(e){return r.a.createElement("div",{className:J.a.surveyResultContainer},r.a.createElement(k,null),r.a.createElement("div",{"data-testid":"survey-result",className:J.a.surveyResultContainer__content},e),r.a.createElement(m,null))}return Object(a.useEffect)(()=>{e.load().then(e=>{n(t=>Object.assign(Object.assign({},t),{surveyResult:e}))}).catch(s)},[t.reload]),t.error?c(r.a.createElement(F,{message:t.error,reload:function(){n(oe(!0))}})):t.surveyResult?c(r.a.createElement(r.a.Fragment,null,r.a.createElement("hgroup",{className:J.a.surveyResultContainer__hgroup},r.a.createElement(q,{date:t.surveyResult.date,className:J.a.surveyResultContainer__hgroup__calendar}),r.a.createElement("h2",{"data-testid":"question",className:J.a.surveyResultContainer__hgroup__h2},t.surveyResult.question)),r.a.createElement("ul",{"data-testid":"answers",className:J.a.surveyResultContainer__content_list},t.surveyResult.answers.map(e=>{return r.a.createElement("li",{"data-testid":"answer-container",key:e.answer,className:[J.a.surveyResultContainer__content_li,(t=e.isCurrentAccountAnswer,t?J.a.surveyResultContainer__content_li_active:"")].join(" ")},e.image&&r.a.createElement("img",{"data-testid":"image",className:J.a.surveyResultContainer__content_li_img,src:e.image,alt:e.answer}),r.a.createElement("span",{"data-testid":"answer",className:J.a.surveyResultContainer__content_li_answer},e.answer),r.a.createElement("span",{"data-testid":"percent",className:J.a.surveyResultContainer__content_li_percent},e.percent,"%"));var t})),r.a.createElement("button",{"data-testid":"back-button",className:J.a.surveyResultContainer__content_button,onClick:o},"Voltar"),t.isLoading&&r.a.createElement(ee,null))):c(r.a.createElement(r.a.Fragment,null))}var ce=n(4),ue=n.n(ce);function le(e){const t=se({callback:function(e){s(t=>Object.assign(Object.assign({},t),{error:e.message}))}}),[n,s]=Object(a.useState)({surveys:[],error:"",reload:!1});function o(e){return e.didAnswer?D.thumbUp:D.thumbDown}function c(e){return r.a.createElement("div",{className:ue.a.surveyContainer},r.a.createElement(k,null),r.a.createElement("main",{className:ue.a.surveyContainer__contentContainer},r.a.createElement("h2",null,"Enquetes"),e),r.a.createElement(m,null))}return Object(a.useEffect)(()=>{e.loadSurveyList.all().then(e=>s(t=>Object.assign(Object.assign({},t),{surveys:e}))).catch(t)},[n.reload]),n.error?c(r.a.createElement(F,{message:n.error,reload:function(){s({surveys:[],error:"",reload:!n.reload})}})):c(r.a.createElement("ul",{"data-testid":"survey-list"},n.surveys.map(e=>r.a.createElement("li",{key:e.id},r.a.createElement("div",{className:ue.a.contentContainer__content},r.a.createElement(I,{iconType:o(e),className:ue.a.contentContainer__iconContainer}),r.a.createElement(q,{date:e.date,className:ue.a.contentContainer__calendar}),r.a.createElement("p",{"data-testid":"question"},e.question)),r.a.createElement("div",{className:ue.a.contentContainer__result},r.a.createElement(i.Link,{"data-testid":"link",to:"/surveys/"+e.id},"Ver Resultado"))))))}var de=n(5),me=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class Ae{constructor(e,t){this.url=e,this.httpPostClient=t}auth(e){return me(this,void 0,void 0,(function*(){const t={url:this.url,body:e},n=yield this.httpPostClient.post(t);switch(n.statusCode){case de.a.ok:return n.body;case de.a.unauthorized:throw new te;default:throw new ne}}))}}function fe(e){return"http://191.183.30.225:5050/api"+e}var pe=n(17),he=n.n(pe),ge=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class ve{post(e){return ge(this,void 0,void 0,(function*(){let t;try{t=yield he.a.post(e.url,e.body)}catch(e){t=e.response}return this.adapt(t)}))}get(e){return ge(this,void 0,void 0,(function*(){let t;try{t=yield he.a.get(e.url,{headers:e.headers})}catch(e){t=e.response}return this.adapt(t)}))}adapt(e){return{statusCode:e.status,body:e.data}}}function Ee(){return new ve}class Ce extends Error{constructor(){super("Campo obrigat칩rio"),this.name="RequiredFieldError"}}class be extends Error{constructor(){super("Valor inv치lido")}}class _e{constructor(e){this.field=e,this.EMAIL_REGEX=/[a-z0-9!#$%&' * +/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/}validate(e){return this.isEmpty(e[this.field])||this.EMAIL_REGEX.test(e[this.field])?null:new be}isEmpty(e){return!e}}class ye{constructor(e,t){this.field=e,this.minLength=t}validate(e){var t;return this.minLength>(null===(t=e[this.field])||void 0===t?void 0:t.length)?new be:null}}class we{constructor(e){this.field=e}validate(e){return e[this.field]?null:new Ce}}class Oe{constructor(e){this.validators=e}static build(e){return new Oe(e)}validate(e,t){const n=this.validators.filter(t=>t.field===e);for(const e of n){const n=e.validate(t);if(n)return n.message}}}class je{constructor(e,t){this.field=e,this.fieldToCompare=t}validate(e){return e[this.field]!==e[this.fieldToCompare]?new be:null}}class Ne{constructor(e,t){this.fieldName=e,this.validations=t}static field(e){return new Ne(e,[])}required(){return this.validations.push(new we(this.fieldName)),this}min(e){return this.validations.push(new ye(this.fieldName,e)),this}email(){return this.validations.push(new _e(this.fieldName)),this}sameAs(e){return this.validations.push(new je(this.fieldName,e)),this}build(){return this.validations}}function Re(){return r.a.createElement(z,{authentication:new Ae(fe("/login"),Ee()),validation:Oe.build([...Ne.field("email").required().email().build(),...Ne.field("password").required().min(5).build()])})}var xe=n(3),Se=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class Be{constructor(e,t){this.url=e,this.httpPostClient=t}add(e){return Se(this,void 0,void 0,(function*(){const t=yield this.httpPostClient.post({url:this.url,body:e});switch(t.statusCode){case xe.HttpStatusCode.ok:return t.body;case xe.HttpStatusCode.forbidden:throw new ae;default:throw new ne}}))}}function ke(){return r.a.createElement(T,{addAccount:new Be(fe("/signup"),Ee()),validation:Oe.build([...Ne.field("name").required().min(5).build(),...Ne.field("email").required().email().build(),...Ne.field("password").required().min(5).build(),...Ne.field("passwordConfirmation").required().sameAs("password").build()])})}class De{set(e,t){t?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)}get(e){return JSON.parse(localStorage.getItem(e))}}function Pe(){return new De}function Le(e){Pe().set("account",e)}function Ie(){return Pe().get("account")}var He=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class Qe{constructor(e,t){this.url=e,this.httpGetClient=t}all(){return He(this,void 0,void 0,(function*(){const e=yield this.httpGetClient.get({url:this.url});switch(e.statusCode){case xe.HttpStatusCode.ok:return e.body.map(e=>Object.assign(e,{date:new Date(e.date)}));case xe.HttpStatusCode.noContent:return[];case xe.HttpStatusCode.forbidden:throw new re;default:throw new ne}}))}convertStringToDate(e){return new Date(e)}}var Ge=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class qe{constructor(e,t){this.getStorage=e,this.httpGetClient=t}get(e){return Ge(this,void 0,void 0,(function*(){const t=this.getStorage.get("account");return(null==t?void 0:t.accessToken)&&Object.assign(e,{headers:Object.assign(this.mergeOrEmptyObject(e),{"x-access-token":t.accessToken})}),yield this.httpGetClient.get(e)}))}mergeOrEmptyObject(e){return e.headers||{}}}function Ue(){return new qe(Pe(),Ee())}function Ve(){return r.a.createElement(le,{loadSurveyList:new Qe(fe("/surveys"),Ue())})}var Fe=function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function o(e){try{c(a.next(e))}catch(e){s(e)}}function i(e){try{c(a.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((a=a.apply(e,t||[])).next())}))};class We{constructor(e,t){this.url=e,this.httpGetClient=t}load(){return Fe(this,void 0,void 0,(function*(){const e=yield this.httpGetClient.get({url:this.url});switch(e.statusCode){case xe.HttpStatusCode.ok:return Object.assign({},e.body,{date:new Date(e.body.date)});case xe.HttpStatusCode.noContent:return{};case xe.HttpStatusCode.forbidden:throw new re;default:throw new ne}}))}}function ze(e){return new We(fe("/surveys/".concat(e).concat("/results")),Ue())}function Ke(){const{id:e}=Object(i.useParams)();return r.a.createElement(ie,{loadSurveyResult:ze(e)})}n(22);o.a.render(r.a.createElement((function(){return r.a.createElement(S.Provider,{value:{setCurrentAccount:Le,getCurrentAccount:Ie}},r.a.createElement(i.BrowserRouter,{basename:"/react-clean-architecture-publish"},r.a.createElement(i.Switch,null,r.a.createElement(i.Route,{path:"/login",exact:!0,component:Re}),r.a.createElement(i.Route,{path:"/signup",exact:!0,component:ke}),r.a.createElement(H,{path:"/",exact:!0,component:Ve}),r.a.createElement(H,{path:"/surveys/:id",component:Ke}))))}),null),document.getElementById("main"))}]);